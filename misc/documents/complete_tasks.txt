Complete / canceled tasks:
==========================
-Fix bug with taking not udemy URL - canceled. *
-Make sure all comments ends with . *
-Update puppeteer package again + verify all works good. *
-Rewrite error numbers. *
-Format all files. *
-Run on production to verify all works well. *
-Fix bug with single date log name. *
-Copy the .gitignore and .npmignore from one of the projects and delete the misc/backup directroy from git: *
git rm -r one-of-the-directories // This deletes from filesystem. *
-Upload to GitHub. *
-Move all complete tasks from here to complete_tasks.txt. *
-Clean all comments again. *
-Remove all debugger. *
-Fix TXT files spell mistakes. *
-Fix all spell mistakes in all TXT files. *
-Fix spell mistakes in all txt files. *
-Re-check all imports in the entire project (check for duplicate imports paths). *
-Sort alphabetically all imports: external packages, settings, (containers, components, store, assert) data, models, enums, services, utils. *
-Sort alphabetically by https://alphabetizer.flap.tv/. *
-Replace all 'let' to 'const' and where no bugs - change it. *
-Add 'Misc.' section to gitignore and npmignore files (include tasks txt files + backups directory). *
-Check for empty lines inside functions / models with regular expression: ^\s*$. *
-Remove all unused files, functions, and variables. *
-Clean all comments. *
-Make sure spaces in all files between bottom, need to fix cases like this: *
} *
module.exports *
} *
export default *
-Update packages npm outdated --depth 9999. *
-Fix change in the IDC site of specific udemy link. *
-Update packages + re-create package.json file. *
-Add logic to take single date, array of dates, or range of dates, and the daily limit will be on each date. *
-Only one dates functionality allowed: single date, array of dates, or range of dates (add parameter on settings.js of the type and the value). *
-The structure on the console status will be: *
[DATE] Type: SINGLE/ARRAY/RANGE | Value: #value from settings.js# | dates count: 23 | Current Date: 24/01/2021 *
-Add retry on courses that failed to be purchased or got 'purchase error', with new status of *
'RETRY'. In the and take all the retries status courses and retry to purchase each of them (maximum tries 5 from settings.js). *
-Add another logic of take dates according to the missing on misc directory until now - canceled. *
-Add logic that if [NAME] not exists - Take the name from udemy URL course (split the `-` and Capital each word). *
-Fix bug of not waiting to courses lists to finish when scaning courses. *
-Add the maximum pages exists in the session to the console status. *
-Update packages + Re-create package-lock.json. *
-Fix the status on console line: Status: PURCHASE many time is actually ALREADY_PURCHASE. Fix all statuses. *
-Change the log file names with the word "-method" in the end. *
-Add another log file for purchased courses only - canceled - Already exists. *
-Add the mode parameter from the settings.js file + add 'SILENT' mode. *
-Fix Publish Date: 2021/001/09 | *
-Add retry on validate the coupons URL, take a number from settings.js and delay from settings.js. *
-Add *
  '--disable-background-timer-throttling', *
  '--disable-backgrounding-occluded-windows', *
  '--disable-renderer-backgrounding' *
to solve issue of hand while not in focus. *
-Update packages. *
-Fix description in package.json + README.MD + re-create package.json-lock file. *
-Take the initiate service from 'crawler' project. *
-Check if comments of all backup parmeters in settings.js relevant to this project. *
-Add .catch(e => console.log(e)); to all (async () => { - Take the logic from 'crawler' project. *
-Take backup.logic.js file from 'mbox-crawler' project. *
-Change all places from 'exports = {' to 'module.exports = {'. *
-Change all places from '../settings' to '../settings/settings'. *
-Fix issue that script not working anymore - canceled. *
-Fix uneeded formats with: "formatFiles.excludePattern": "**/node_modules,**/.vscode,**/dist/**,**/.chrome,**/misc". *
-Add 'Complete + canceled tasks: *
==========================' to complete_tasks.txt. *
-In .eslintrc file - set "no-unused-vars": 1. *
-Add .eslintignore file from 'crawler' project. *
-Add .jsbeautifyrc file from 'crawler' project. *
-Take updated 'Misc' section from 'crawler' project for npmignore and gitignore files. *
-Change the maximum purchase courses to 3000. *
-Fix bug: not showing data: *
===[NAME] Persuasive Writing Ft. Two Forbes Contributors & Copywriters=== *
===[COURSE URL] https://idownloadcoupon.com/2021/01/10/free-udemy-courses-list-12-15-2020/=== *
===[UDEMY URL] https://www.udemy.com/course/persuasive-writing-copywriting/?couponCode=YOUACCEL34694=== *
===[RESULT] Time: ## | Result: ##=== *
-Copy the logic of validation of isDirectory in the initiate service from 'crawler' project. *
-Remove all comments. *
-Fix TXT files spell mistakes. *
-Fix all spell mistakes in all TXT files. *
-Remove all unused files, functions, and variables. *
-Rewrite error numbers. *
-Remove all debugger. *
-Make sure all comments ends with . *
-Format all files. *
-Move all completed tasks to complete tasks text file. *
-Delete old project from guthub + Re-upload GitHub. *
-Delete from developer-Story in StackOverFlow + Re-add it. *
-All the last course need to be removed from console status when finish - Canceled. *
===[SETTINGS] Environment: PRODUCTION | Method: PURCHASE COURSES | Query Date: 2020/12/21 | Specific Page Number: ## | Is Key Words Filter: false=== *
===[GENERAL] Time: 00.02:04:54 [-] | Total Price Purchase: ₪30,363.00 | Course: 409/409 (100.00%) | Courses Count: 450 | Status: LOGOUT=== *
===[ACCOUNT] Email: orassayag@gmail.com | Password: *******************=== *
===[PROCESS1] Purchase: ✅  69 | Fail: ❌  0 | Filter: 0 | Missing Field: 0 | Unexpected Field: 0 | Duplicate: 21=== *
===[PROCESS2] Create Update Error: 0 | Empty URL: 1 | Not Exists: 2 | Limit Access: 20 | Suggestions List: 2 | Private: 1=== *
===[PROCESS3] Already Purchase: 73 | Course Price Not Free: 218 | Enroll Not Exists: 0=== *
===[PROCESS4] Checkout Price Not Exists: 1 | Checkout Price Not Free: 0 | Purchase Error: 1=== *
===[DATA1] Creation: 21/12/2020 19:35:15 | Id: 409 | Post Id: ## | Status: ALREADY PURCHASE=== *
===[DATA2] Publish Date: 2020/12/21 | Page Number: 7 | Index Page Number: 0=== *
===[DATA3] Is Free: false | Price Display: ## | Coupon Key: 76CC6BA6766C9CB8FFBF | Type: COURSES LIST=== *
===[ERRORS] Create Update Error In A Row: 0 | Purchase Error In A Row: 0=== *
===[NAME] Microsoft Excel -Basic Excel/ Advanced Excel Formulas=== *
===[COURSE URL] https://idownloadcoupon.com/2020/12/21/free-30-best-udemy-courses-100-off-promo-code-deals-discount-friday-august-7-2020-reviews-coupons/=== *
===[UDEMY URL] https://www.udemy.com/course/microsoft-excel-basic-excel-advanced-excel-formulas/?couponCode=76CC6BA6766C9CB8FFBF=== *
===[RESULT] Time: 21/12/2020 21:35:19 | Result: The course already purchased in tha past. No price label exists.=== *
===EXIT: FINISH=== *
-Fix bug of undefined index index page number. *
-PostId on console convert to string. *
-Fix ':' in 'Time' in Result - Remove it. *
-Make sure that if ctrl+c - The program will exit. *
-Make sure then browser is closed - The program will exit. *
-Add original index for update-courses step. *
-Add final timeout to settings.js. *
-Final status change to FINISH (not Status: LOGOUT). *
-Add environment: PRODUCTION/DEVELOPMENT (in production take account original JSON, development take account development JSON). *
-Add to console status: Course: 50 | Courses Count: 450. *
-Change the misc directory structure like the 'crawler' project (misc/documents + add complete_tasks.txt). *
-Copy the logic of backups from the 'crawler' project. *
-Copy the logic of time utils from the 'crawler' project. *
-Add 'validateScriptType' in the initiate service from the 'crawl' project. *
-Add 	constructor() { *
		this.scriptType = null; *
	} *
In the initiateService.js *
-Refactor time.utils.js like in the 'crawler' project. *
-Convert all sandbox and udemy sessions on 'ScriptType' enum to 'Test' and change it in all places. *
-Add validation for the script type in the initiate service. *
-Add to total price purchase, only after successfull purchase. *
-Change in all places from 'GET_COURSES' to 'CREATE_COURSES'. *
-Add another method to all places - "UPDATE COURSES" (logs, console, all). *
-Add new mode, after GET_COURSES, add another status of UPDATE COURSES. *
-Change the logic to log each course in each step. *
-Try to replace jsDOM with exposeFunction: https://pptr.dev/#?product=Puppeteer&version=v5.5.0&show=api-pageexposefunctionname-puppeteerfunction - Canceled. *
-Fix Total Price Purchase: ₪30363.00 to be with comma. *
-Fix bug with error in a row caused to ignore courses list page. *
-Fix bug with logs parameter undefined. *
-Check https://pub.dev/documentation/puppeteer/latest/puppeteer/JsHandle-class.html to replace jsdom - Not working. *
-Add the account name to the confirmation message. *
-Add to the log console the account username + ******** of the password length. *
-Add to the log directory name the username of the Udemy account. *
-Bring back the account.json. *
-Upload to GitHub. *
-Go all over the project and change many to single, also in the comments (services => service | LOGS => LOG). *
-Remove all unused files, functions, and variables. *
-Rewrite INSTRUCTIONS.md + README.md. *
-Rewrite error numbers. *
-Remove all comments. *
-Remove all debugger. *
-Make sure all comments ends with . *
-Fix all spell mistakes in all TXT files. *
-Format all files. *
-Test a few sessions from different days (terminal | browser). *
-Fix bug with price: Total Price Purchase: ₪5468.599999999999. Fix to 2 numbers after dot. *
-Add private course: https://www.udemy.com/course/html-the-complete-html-practice-test-linkedin-assessment/?couponCode=CODINGINTERVIEW *
-Add option to fetch only courses with specific key (check the key in the udemyURL lowercase). *
-Add the logic of 'totalPriceNumber'. *
-Change all console.log to logUtils.log. *
-Convert all the "exit" methods in all the services to be called only from the purchase.logic.js file, *
where it will be a graceful exit with closing all the services. *
-Change the console message of confirmation: 'OK to run? (y = yes)' + refactor function logic. *
-Test a few sessions from different days - Canceled. *
-Add confirmation step. *
-Re-plan the console status structure. *
-Fix the log courses status logic + write comments in other projects about it. *
-Do the console status. *
============================ *
-Add status console line with the following structure: *
===[SETTINGS] Method: GET COURSES/PURCHASE COURSES | Query Date: 2020/12/06 | Specific Page Number: ## | Is Key Words Filter: false=== *
===[GENERAL] Time: 00.05:16:58 [-] | Total Price Purchase: ₪5,450 | Course: 2/348 (48%) | Status: GET COURSES/VALIDATE/PAUSE/NO URLS/LOGIN/ADD CART/CHECKOUT/SUCCESS=== *
===[PROCESS1] Purchase: ✅ 0 | Fail: ❌ 0 | Filter: 0 | Missing Field: 0 | Unexpected Field: 0 | Duplicate: 0=== *
===[PROCESS2] Get Error: 0 | Empty URL: 0 | Not Exists: 0 | Limit Access: 0 | Suggestions List: 0 | Already Purchase: 0=== *
===[PROCESS3] Course Price Not Free: 0 | Enroll Not Exists: 0 | Checkout Price Not Exists: 0=== *
===[PROCESS4] Checkout Price Not Free: 0 | Purchase Error: 0=== *
===[DATA1] Creation: 12/12/2020 18:02:00 | Id: 33444 | Post Id: 4323 | Status: CREATE/INVALID/ERROR/NOT_EXISTS/VALIDATE/CART/PURCHASE_FAIL/PURCHASE *
===[DATA2] Publish Date: 13/12/2020 | Page Number: 3 | Index Page Number: 4=== *
===[DATA3] Is Free: false | Price Display: ₪450.00 | Coupon Key: A1C8F6566F1EA8D253AC | Type: SINGLE/COURSES LIST=== *
===[ERRORS] Get Error In A Row: 0 | Purchase Error In A Row: 0=== *
===[NAME] Learn How to Setup Online Exports Business Instantly (cut it to maximum characters)=== *
===[COURSE URL] https://idownloadcoupon.com/2020/12/17/amazon-aws-sysops-administrator-associate-certificate-tests/ (cut it to maximum characters)=== *
===[UDEMY URL] https://www.udemy.com/course/learn-python-coding-from-basic-beginning-to-master/?couponCode=DECEMBER-BONANZA (cut it to maximum characters)=== *
===[RESULT] Time: 12/12/2020 18:02:00 | Result: The course has been purchased successfully. (cut it to maximum characters)=== *
-Add to the log and the console the total price number. *
============================ *
-Insert the courses logic into the purchase courses. *
-Between each course perchase wait 5 seconds. *
-Fix bug with maximum pages equal to 1. *
-Add the full logic and test full a session (loop on all the courses that are in the status of CREATE) - Canceled. *
-Test another full a session (loop on all the courses that are in the status of CREATE) - Canceled. *
-Insert all parameters to settings.js. *
-Convert all check of (x && x.length > 0) to isExists. *
-Add try catch on login and logout and in case of exception exit grafcully and close browser. *
-Add try catch on each course purchase, and if exception throwed, add error object to details and change to 'ERROR' status, *
And redirect back to udemyBaseURL and wait 5 seconds. *
-Add error in a row logic. *
-Add logic for error in a row (5 from settings.js) to exit the program. *
-Log the purchased courses - Log the entire object. *
-Fix the free courses bug. *
-Add logic for test session. Loop on specific URLS and try to purchase them. *
-Add specific page on specific date logic. *
-Add the c:/puppeteer directory to the validation paths, - Canceled. *
 and delete all the content in the end of the process, in each exit process. - Canceled. *
-Add limit to purchase courses. *
-Separate the existing function to a single purchase course function. *
-Test array of 2 courses. *
-Test array of 5 courses - Canceled. *
-Loop for the next courses - Canceled. *
-Handle maximum login requests. *
-Do logic of single course purchase, include all logics and cases. *
-Start to loop on the URLs. Delay of random 3-4 between processes. *
-For each page, wait 5 seconds (settings.js) (until the 'Add to cart' button will become clickable). *
-Check that the button with the class 'udlite-heading-md add-to-cart', contains the value 'Add to cart'. *
-If it contains the value 'Go to cart' or 'Go to course' or not 'Add to cart', continue to the next course. *
-Look for element 'data-purpose="course-price-text"'. Inside it look for '<span>Free</span>'. *
-If exists, continue. *
-Go to the element 'data-purpose="course-old-price-text"', search for span with the value of '₪'. *
 This is the price. Get it, separate it to a numeric, not just text. *
-Not a mandatory step. If not found continue anyway. *
-Click on the button that contains the class 'udlite-heading-md add-to-cart' - Canceled. *
-If not, continue to the next course - Canceled. *
-Wait for element with the id of "cart-success-title" to be exists in the DOM - Canceled. *
-Continue to the next course - Canceled. *
-Each X courses, go to the cart and purchase - Canceled. *
-Go to https://www.udemy.com/cart/checkout, and wait for 5 seconds (settings.js) - Canceled. *
-Change in logic: Each course will be enroll immediately. *
-Search for the element with 'data-purpose="total-price"' and make sure the span inside it contains '₪0.00'. *
-If it's not the case, continue to the next course. *
-Search the first element of class 'ellipsis btn btn-lg btn-primary btn-block' and click it. *
-Wait to be redirected to a page contains 'https://www.udemy.com/cart/success/'. *
-After successful cart purchase, do a logout process - Canceled. *
-Build all the logic of running the project after downloaded from GitHub. *
-Create a dummy account on udemy. *
-Fill the json file with the dummy account. *
-Build the logic to take the account from external json file. *
-Build example json file on the misc directory. *
-With puppeter.js go to https://www.udemy.com/join/login-popup/. *
-Like the UdemyData with all elements, do the same (add to existing CoursesData object). *
-Login with given credentials from external account.json file. *
('id_email' element, 'id_password' password element), and click on 'submit-id-submit' button. *
-Wait for redirect to Udemy main page, and validate login if 'data-purpose="header-login"' no longer exists. *
-Do the logout process. *
-Make sure to add in settings.js parameter of user-agent. If it's empty, take a random one - Canceled. *
-With puppeter.js go to https://idownloadcoupon.com/. *
-Scan the URL by the current date. For example, https://idownloadcoupon.com/2020/12/06/. *
-If no URLs ('Page not found'), exit the program. *
-Loop on each course item: the id starts with 'post-' for example, 'post-18943'. *
-For each item, get the element 'grid-tit' (it's h2), and get the URL, and the publish date (class="fa fa-clock-o" element, example: 8 Dec , 2020). *
-Get also the title of the course. *
-Get the URL and store it in the object. *
-Add variable on settings.js of the date to take the courses + Variable of dynamic date. If empty, take the today date. *
-Get of each URL - Detect of the page is 'courses list' page or a single course page *
 (if https://www.udemy.com URLs found - it's a 'courses list' page. If not, and 'deeplink' href found, it's a single course page). *
-If it's a single course page - Get all href, and search for the one that starts with 'https://click.linksynergy.com/deeplink'. *
-If neither of them found, continue to the next page. *
-Extract the Udemy URL from the href, include the coupon code. *
-The structure of the URL should look like this: 'https://www.udemy.com/course/learn-how-to-setup-online-exports-business-instantly/?couponCode=A1C8F6566F1EA8D253AC' *
-If it's a URL from 'courses list' page, just copy the URL, and extract the coupon from it (take also the title - 'course_title' element). *
-After finish get the URLs from the current page, go to the next page by: https://idownloadcoupon.com/2020/12/06/page/2/ *
-When you get to 'Page not found', the get part is over. *
-Finalize step: Loop on all courses and: *
-If no udemyURL found - Mark status as MISSING_URL. *
-If the udemyURL is invalid - Mark status as INVALID. *
-Do a comperation step, to make sure no duplicate course will be inserted. *
-Replace all 'sleep' in here to 'await page.waitForTimeout()' - Canceled. *
-Log the entire object - Post id (if exists), course name, page URL, Udemy URL, course coupon. *
-Add all log flags + logic in code. *
-Add method flags + logic in code (add logic that if get courses not active the purchase courses will not work and exit). *
-Change all places from 'pageURL' to 'courseURL'. *
-Add validation of free course with coupon. *
-For this method, log all courses that not in CREATED status to seperated file. *
-Add log publish date to the log file names. *
-Test this step on random dates (10 dates in the past 10 days). *
FULL MESSAGE: *
============ *
Time: 15:05:43 | Id: 334 | Creation Date Time: 12/08/2020 15:04:34 | Page Number: 2 | Publis Date: 2020/12/08 *
Name: Time Management for Professionals *
Type: COURSES LIST | Is Free: false | Coupon Key: BD1F9BF485081A1F438B | Status: CREATE *
Page URL: https://idownloadcoupon.com/2020/12/08/free-udemy-courses-list-9-18-2020/ *
Udemy URL: https://www.udemy.com/course/time-management-for-professionals/?couponCode=BD1F9BF485081A1F438B *
============ *
-Remove all jsdom from the project, and use: *
 const result = await page.evaluate(() => { *
    return document.querySelectorAll('.footer-tags a').length *
  }) - Canceled. *
-The main goal of the application is to add Udemy free courses, based on coupons, automatically to specific account. *
-The application will be seperated to 2 main parts: *
1. Get courses URLs with coupons. *
2. Go to Udemy and one after one, insert the courses to cart, and purchase them. *
-The second part contains several parts: *
1. Login to the system. *
2. Purchase X courses (settings.js number). *
3. Each X courses go and purchase, and continue to the next courses. *
-Add folders structure. *
-Add project general structure. *
-Add backup logic. *
-Validate that https://idownloadcoupon.com/ is online. *
-Validate that https://www.udemy.com/ is online. *
-Object - Course: *
-Id, Price, Name, Type (single/coursesList), Page URL, Udemy URL, Coupon Key, Status. *
-(remove the [100% OFF] in the start if exists) *